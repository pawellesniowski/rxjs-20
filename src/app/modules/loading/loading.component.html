<button class="button" (click)="onButtonClick()">
  Start loading
</button>

<p>loading status: {{loadingProgress$ | async}}</p>

<p>result: {{result$ | async}}</p>

<p *ngIf="result$ | async as result; else loading">
  {{result}}
</p>

<ng-template #loading>
  <ng-container *ngIf="loadingProgress$ | async as progress">
    <progress class="progress" [max]="100" [value]="progress"></progress>
    <div class="loading">Loading...</div>
  </ng-container>
</ng-template>
